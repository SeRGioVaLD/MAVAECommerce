<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/static/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title >MAVA Soluciones</title>
</head>
<body>
    <div class="overlay" id="overlay" style="display: none;">
        <div class="loader" id="loader" style="display: none;"></div>
    </div>
    
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">MAVA Soluciones</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item" >
                    <a class="nav-link active" aria-current="page" href="/api/pedidos">PEDIDOS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">NOSOTROS</a>
                </li>
            </ul>
            <div class="d-none gap-2 d-md-flex justify-content-md-end " id="sesion">
                <span id="mensajeBienvenida"></span>
                <button type="button" class="btn btn-outline-danger d-none" id="cerrarSesion" onclick="cerrarSesion()">Cerrar sesión</button>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-md-end" id="botonesSesion">
                <button data-bs-toggle="modal" data-bs-target="#logginModal" type="button" class= "btn btn-outline-primary me-md-2" id="loginBtn">Iniciar sesión</button>
                <button data-bs-toggle="modal" data-bs-target="#registerModal" type="button" class= "btn btn-outline-dark" id="registerBtn">Registrarse</button>
                <span id="welcomeMsg" style="display: none;"></span>
            </div>
          </div>
        </div>
    </nav>

    <div class="modal fade" id="logginModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="fomularios">
                        <div class="login-form">
                            <h2>Login</h2>
                            <input type="text" id="loginUsuarioCorreo" placeholder="Correo o Usuario">
                            <input type="password" id="loginContrasena" placeholder="Contrasena">
                        </div>    
                    </div>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick= "iniciarSesion()">Iniciar sesión</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="fomularios">
                        <div class="registro-form">
                            <h2>Registro</h2>
                            <h3>Datos de Usario</h3>
                            <input type="text" id="registroUsuario" placeholder="Usuario" required>
                            <input type="email" id="registroCorreo" placeholder="Correo electronico" required>
                            <input type="password" id="registroContrasena" placeholder="Contrasena" required>
                            <h3>Datos de Cliente</h3>
                            <input type="text" id="registroNombres" placeholder="Nombres" required>
                            <input type="text" id="registroApellidoPaterno" placeholder="Apellido Paterno" required>
                            <input type="text" id="registroApellidoMaterno" placeholder="Apellido Materno" required>
                            <input type="text" id="registroDNI" placeholder="DNI">
                            <input type="text" id="registroCelular" placeholder="Celular" pattern="[0-9]{1,10}" inputmode="numeric" maxlength="9">
                            
                            <h3>Datos de Facturacion</h3>
                            <input type="text" id="registroRuc" placeholder="RUC" pattern="[0-9]{1,10}" inputmode="numeric" maxlength="11">
                            <input type="text" id="registroCalle" placeholder="Calle" required>
                            <input type="text" id="registroNumero" placeholder="Numero" maxlength="16" required>
                            <input type="text" id="registroInterior" placeholder="Interior/Dpto." maxlength="16">
                            <input type="text" id="registroDistrito" placeholder="Distrito" required>
                            <input type="text" id="registroProvincia" placeholder="Provincia" required>
                            <input type="text" id="registroRegion" placeholder="Region" required>
                            <input type="text" id="registroPais" placeholder="Pais" required>
                            <input type="text" id="registroCodigoPostal" placeholder="Codigo Postal">
                        </div>
                            
                    </div>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary"  onclick="registrar()">Registrarse</button>
                </div>
            </div>
        </div>
    </div>
    
    <header>
        <div class="eldiv">    
            <img src="/static/img/MAVA-LOGO.png" alt="" class="imagenmava">
        </div>
        <h1>MAVA Soluciones</h1>
    </header>

    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center">  
            <h2>Tus Pedidos</h2>
            <a href="/" class="btn btn-secondary">Volver a la página principal</a> 
        </div>
        <table class="table table-striped mt-3">
            <thead>
                <tr>
                    <th>ID de Pedido</th>
                    
                    <th>Monto</th>
                </tr>
            </thead>
            <tbody>
                {% for factura in facturas %}
                <tr>
                    <td>{{ factura['id_factura'] }}</td>
                    
                    <td>{{ factura['total'] }}</td> 
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <script src="/static/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>